(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n.p+"static/media/empty-poster.b9aba793.png"},17:function(e,t,n){e.exports=n(31)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),c=n.n(i),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var l=n(3),u=n(5),m=n(4),d=n(8),f=n(9),p=n(33),v={raitingTitle:"IMDb",metaScoreTitle:"Critics",trailerTitle:"Trailer",trailerSite:"YouTube",directorTitle:"Producer",actorsTitle:"Cast",credentials:"Made by Artur Voloshyn",codeResource:"GitHub",resourceCodeLink:"https://github.com/ArturW1998/Movies/",mail:"grand_faraon_93@mail.ru"},_=n(10),b=n(1),h=n.n(b),g=n(14),w=n(2),E=n(15),N="https://api.themoviedb.org/3/movie",y="3b07521ea25bf66106a9525b3054c8e9",k=n(13),x={singleSlider:{defaultOverview:"The overview is empty.",defaultYear:2020,defaultDirector:"The producer is unknown.",defaultActors:"Actors are unknown.",defaultImdbRating:"-",defaultPoster:n.n(k).a}},O=function(e){return fetch(e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})},R=function(){var e=Object(w.a)(h.a.mark(function e(t){var n,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N).concat("/now_playing","?").concat("region=").concat("UA","&").concat("language=").concat("en-EN","&").concat("api_key=").concat(y),a="".concat(n,"&").concat("page=").concat(2),e.next=4,Promise.all([O(n),O("".concat(a))]).then(function(e){var n=Object(g.a)(e,2),a=n[0],r=n[1],i=a.results,c=r.results,o=c.slice(0,c.length-2);i.concat(o).forEach(function(e){e.poster=e.poster_path?"".concat("https://image.tmdb.org/t/p/original").concat(e.poster_path):null,t.push(e)})}).catch(function(e){return e});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(w.a)(h.a.mark(function e(t){var n,a,r,i,c,o,s,l,u,m;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.trailerSite,!t.length){e.next=18;break}a=0;case 3:if(!(a<t.length)){e.next=18;break}return r=t[a],i=r.id,c="".concat(N,"/").concat(i,"?").concat("api_key=").concat(y,"&").concat("append_to_response=").concat("external_ids,videos","&").concat("language=").concat("en-EN"),e.next=9,O(c);case 9:o=e.sent,s=o.videos.results,l="",(u=s.length)>0&&(m=s[u-1],l=m.site===n?"".concat("https://www.youtube.com/watch","?").concat("v=").concat(m.key):l),t[a]=Object(_.a)({},r,{imdb_id:o.imdb_id,trailer_url:l,genres:o.genres});case 15:a++,e.next=3;break;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(h.a.mark(function e(t){var n,a,r,i,c,o,s,l,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=x.singleSlider).defaultImdbRating,r=n.defaultActors,!t.length){e.next=17;break}i=0;case 3:if(!(i<t.length)){e.next=17;break}return c=t[i],o=c.imdb_id,s="".concat("https://www.omdbapi.com/","?").concat("i=").concat(o,"&").concat("apikey=").concat("55018c43"),l="N/A",e.next=10,O(s);case 10:(u=e.sent).imdbRating=isNaN(u.imdbRating)?a:u.imdbRating,u.Actors=u.Actors===l?r:u.Actors,t[i]=Object(_.a)({},c,{imdbRating:u.imdbRating,director:u.Director,actors:u.Actors,metascore:u.Metascore,year:u.Year});case 14:i++,e.next=3;break;case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(w.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.sort(function(e,t){return e.imdbRating>t.imdbRating?-1:e.imdbRating<t.imdbRating?1:0}),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(w.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){JSON.stringify(t),e(t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(w.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){new E.a(".swiper-container",{effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",mousewheel:!0,keyboard:!0,grabCursor:!0,longSwipesRatio:1,coverflowEffect:{rotate:20,stretch:0,depth:100,modifier:1,slideShadows:!1},on:{init:function(){e(!1)}}})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(w.a)(h.a.mark(function e(t){var n,a,r,i,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return n=e.sent,e.next=5,S(n);case 5:return a=e.sent,e.next=8,j(a);case 8:return r=e.sent,e.next=11,A(r);case 11:return i=e.sent,e.next=14,T(i);case 14:return c=e.sent,e.abrupt("return",c);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=(n(23),n(24),{12:"adventures",14:"fantasy",16:"animation",18:"drama",27:"horror",28:"action",35:"comedy",36:"history",37:"western-film",53:"thriller",80:"crime",99:"documentary",878:"science-fiction",9648:"mystery",10402:"music",10749:"romance",10751:"family",10752:"war",10770:"show"}),L=function(e){return"item__genre-icon item__genre-icon--".concat(W[e]||"default")},M=function(e){var t=e.genres,n=e.size;return r.a.createElement("div",{className:"item__sidebar item__genre-box item__genre-box--".concat(n)},t.map(function(e){var t=e.id,n=e.name;return r.a.createElement("div",{key:t,className:"item__genre-element"},r.a.createElement("div",{className:L(t)}),r.a.createElement("div",{className:"item__genre-name"},n))}))};M.defaultProps={genres:[],size:"sm"};var D=M,I=(n(25),x.singleSlider),z=I.defaultOverview,U=I.defaultYear,Y=I.defaultDirector,J=I.defaultActors,B=I.defaultPoster,G=I.defaultImdbRating,V=v.raitingTitle,q=v.metaScoreTitle,F=v.trailerTitle,H=v.trailerSite,$=v.directorTitle,K=v.actorsTitle,Q=function(e){var t=e.movie,n=t.genres,a=t.poster,i=t.title,c=t.year,o=t.imdbRating,s=t.metascore,l=t.trailer_url,u=t.director,m=t.actors,d=t.overview;return r.a.createElement("div",{className:"swiper-slide item"},r.a.createElement("div",{className:"item__description item__title"},r.a.createElement("span",null,"".concat(i," (").concat(c||U,")"))),r.a.createElement("div",{className:"item__img"},r.a.createElement("img",{src:a,alt:"Poster"}),r.a.createElement("div",{className:"item__shadow item__shadow--left"}),r.a.createElement("div",{className:"item__shadow item__shadow--right"}),r.a.createElement("div",{className:"item__description item__marks"},r.a.createElement("div",{className:" item__sidebar item__sidebar--imdb"},r.a.createElement("span",{className:"item__sidebar-title"},V),r.a.createElement("span",{className:"item__sidebar-number"},o)),!isNaN(s)&&r.a.createElement("div",{className:"item__sidebar item__sidebar--metascore"},r.a.createElement("span",{className:"item__sidebar-title item__sidebar-title--sm"},q),r.a.createElement("span",{className:"item__sidebar-number"},"".concat(s,"%"))),l.length>0&&r.a.createElement("div",{className:"item__sidebar item__sidebar--trailer"},r.a.createElement("span",{className:"item__sidebar-title item__sidebar-title--sm"},F),r.a.createElement("span",{className:"item__sidebar-icon item__sidebar-icon--youtube"}),r.a.createElement("a",{className:"item__sidebar-link",href:l,target:"_blank",rel:"noopener noreferrer"},H)),n.length>0&&r.a.createElement("div",{className:"item__genre"},r.a.createElement(D,{genres:n,size:"sm"}),r.a.createElement(D,{genres:n,size:"lg"})))),r.a.createElement("div",{className:"item__description item__bottom"},r.a.createElement("div",{className:"item__cast"},r.a.createElement("span",{className:"item__director"},$,": ",r.a.createElement("span",null,u||Y)),r.a.createElement("span",{className:"item__actors"},K,": ",r.a.createElement("span",null,m||J))),r.a.createElement("div",{className:"item__overview"},r.a.createElement("span",null,d||z))))};Q.defaultProps={movie:{genres:[],poster:B,year:U,imdbRating:G,metascore:0,trailer_url:"",director:Y,actors:J,overview:z}};var X=Q,Z=function(e){var t=e.movies;return r.a.createElement("div",{className:"swiper-container"},r.a.createElement("div",{className:"swiper-wrapper"},t.map(function(e){return r.a.createElement(X,{key:e.id,movie:e})})))};Z.defaultProps={movies:[]};var ee=Z,te=(n(26),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__spinner"},r.a.createElement("div",{className:"loader__spinner-square"})))}),ne=(n(27),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],contentLoading:!0},n.setupSlider=function(){P().then(function(e){return n.setState({contentLoading:e})}).catch(function(e){return e})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.movies;C(t).then(function(t){return e.setState({movies:t})}).then(function(){return e.setupSlider()}).catch(function(e){return e})}},{key:"render",value:function(){var e=this.state,t=e.contentLoading,n=e.movies,a=v.credentials,i=v.codeResource,c=v.resourceCodeLink,o=v.mail;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{in:t,timeout:500,classNames:"animation",unmountOnExit:!0},r.a.createElement(te,null)),r.a.createElement(p.a,{in:!t,timeout:1e3,classNames:"animation"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"credentials"},r.a.createElement("p",null,a),r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},i),"\xa0",r.a.createElement("a",{href:"mailto:".concat(o)},o)),r.a.createElement(ee,{movies:n}))))}}]),t}(a.Component));n(30);c.a.render(r.a.createElement(ne,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Movies",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Movies","/service-worker.js");o?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):s(t,e)})}}()}},[[17,1,2]]]);
//# sourceMappingURL=main.160ab8db.chunk.js.map